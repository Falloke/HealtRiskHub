generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            Int             @id @default(autoincrement())
  first_name    String
  last_name     String
  role          String          @default("user")
  brith_date    DateTime
  position      String
  province      String
  email         String          @unique
  password      String
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
  Authenticator Authenticator[]
  sessions      Session[]
}

model Session {
  sessionToken String   @unique
  expires      DateTime
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  userId       Int
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model VerificationToken {
  identifier String
  token      String
  expires    DateTime

  @@id([identifier, token])
}

model Authenticator {
  credentialID         String  @unique
  providerAccountId    String
  credentialPublicKey  String
  counter              Int
  credentialDeviceType String
  credentialBackedUp   Boolean
  transports           String?
  userId               Int
  user                 User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@id([userId, credentialID])
}

/// This table is a partition table and requires additional setup for migrations. Visit https://pris.ly/d/partition-tables for more info.
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model d01_influenza {
  disease_code          String?
  gender                String?
  age_y                 Int?
  nationality           String?
  occupation            String?
  province              String?
  district              String?
  onset_date            String?
  treated_date          String?
  diagnosis_date        String?
  death_date            String?
  onset_date_parsed     DateTime  @db.Date
  treated_date_parsed   DateTime? @db.Date
  diagnosis_date_parsed DateTime? @db.Date
  death_date_parsed     DateTime? @db.Date
  diseases              diseases? @relation(fields: [disease_code], references: [code], onDelete: NoAction, onUpdate: NoAction)

  @@index([province], map: "idx_influenza_province")
  @@ignore
}

model diseases {
  code          String          @id
  name_th       String
  name_en       String
  d01_influenza d01_influenza[] @ignore
}

/// This table is a partition table and requires additional setup for migrations. Visit https://pris.ly/d/partition-tables for more info.
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model influenza {
  id             Int       @default(autoincrement())
  disease        String?   @db.VarChar(100)
  gender         String?   @db.VarChar(10)
  age_y          Int?
  nationality    String?   @db.VarChar(50)
  occupation     String?
  province       String    @db.VarChar(100)
  district       String?   @db.VarChar(100)
  onset_date     DateTime  @db.Date
  treated_date   DateTime? @db.Date
  diagnosis_date DateTime? @db.Date
  death_date     DateTime? @db.Date

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model influenza_raw {
  disease            String?
  gender             String?
  age_y              Int?
  nationality        String?
  occupation         String?
  province           String?
  district           String?
  onset_date_raw     String?
  treated_date_raw   String?
  diagnosis_date_raw String?
  death_date_raw     String?
  onset_date         String? @db.VarChar(50)
  treated_date       String? @db.VarChar(50)
  diagnosis_date     String? @db.VarChar(50)
  death_date         String? @db.VarChar(50)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model influenza_staged {
  disease               String?
  gender                String?
  age_y                 Int?
  nationality           String?
  occupation            String?
  province              String?
  district              String?
  onset_date            String?
  treated_date          String?
  diagnosis_date        String?
  death_date            String?
  onset_date_parsed     DateTime? @db.Date
  treated_date_parsed   DateTime? @db.Date
  diagnosis_date_parsed DateTime? @db.Date
  death_date_parsed     DateTime? @db.Date

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model influenza_staged_2 {
  disease               String?
  gender                String?
  age_y                 Int?
  nationality           String?
  occupation            String?
  province              String?
  district              String?
  onset_date            String?
  treated_date          String?
  diagnosis_date        String?
  death_date            String?
  onset_date_parsed     DateTime? @db.Date
  treated_date_parsed   DateTime? @db.Date
  diagnosis_date_parsed DateTime? @db.Date
  death_date_parsed     DateTime? @db.Date

  @@ignore
}

model influenzadata2567 {
  id             Int     @id @default(autoincrement())
  disease        String?
  gender         String?
  age_y          Int?
  nationality    String?
  occupation     String?
  province       String?
  district       String?
  onset_date     String?
  treated_date   String?
  diagnosis_date String?
  death_date     String?
}
